{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kajoe\\\\Desktop\\\\finance-trk\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  var _budgetData$initial_b, _budgetData$current_b;\n  const [budgetData, setBudgetData] = useState({\n    current_budget: 0,\n    initial_budget: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchBudget = async () => {\n      try {\n        const token = localStorage.getItem('authToken');\n        console.log('Token:', token); // Debug token\n\n        if (!token) {\n          console.log('No token found, redirecting to login');\n          navigate('/login');\n          return;\n        }\n\n        // Create instance with interceptor for debugging\n        const axiosInstance = axios.create({\n          baseURL: 'http://localhost:5000'\n        });\n        axiosInstance.interceptors.request.use(request => {\n          console.log('Request:', request);\n          return request;\n        });\n        axiosInstance.interceptors.response.use(response => {\n          console.log('Response:', response);\n          return response;\n        }, error => {\n          console.log('Error Response:', error.response);\n          return Promise.reject(error);\n        });\n        const response = await axiosInstance.get('/budget', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log('Budget data:', response.data); // Debug response\n        setBudgetData(response.data);\n        setLoading(false);\n      } catch (error) {\n        var _error$response, _error$response$data, _error$response2;\n        console.error('Detailed error:', error.response || error);\n        setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to load budget information');\n        setLoading(false);\n        if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401) {\n          console.log('Unauthorized, redirecting to login');\n          navigate('/login');\n        }\n      }\n    };\n    fetchBudget();\n  }, [navigate]);\n\n  // Rest of your component remains the same\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen text-red-500\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900 mb-8\",\n          children: \"Finance Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"User is authenticated\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white overflow-hidden shadow rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Initial Budget\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-3xl font-semibold text-gray-900\",\n              children: [\"$\", ((_budgetData$initial_b = budgetData.initial_budget) === null || _budgetData$initial_b === void 0 ? void 0 : _budgetData$initial_b.toFixed(2)) || '0.00']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white overflow-hidden shadow rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Current Budget\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-3xl font-semibold text-gray-900\",\n              children: [\"$\", ((_budgetData$current_b = budgetData.current_budget) === null || _budgetData$current_b === void 0 ? void 0 : _budgetData$current_b.toFixed(2)) || '0.00']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"olSycDil1P/Ky1ksh2jlQjAwK2E=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","HomePage","_s","_budgetData$initial_b","_budgetData$current_b","budgetData","setBudgetData","current_budget","initial_budget","loading","setLoading","error","setError","navigate","fetchBudget","token","localStorage","getItem","console","log","axiosInstance","create","baseURL","interceptors","request","use","response","Promise","reject","get","headers","Authorization","data","_error$response","_error$response$data","_error$response2","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/kajoe/Desktop/finance-trk/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst HomePage = () => {\r\n  const [budgetData, setBudgetData] = useState({\r\n    current_budget: 0,\r\n    initial_budget: 0\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchBudget = async () => {\r\n      try {\r\n        const token = localStorage.getItem('authToken');\r\n        console.log('Token:', token); // Debug token\r\n        \r\n        if (!token) {\r\n          console.log('No token found, redirecting to login');\r\n          navigate('/login');\r\n          return;\r\n        }\r\n\r\n        // Create instance with interceptor for debugging\r\n        const axiosInstance = axios.create({\r\n          baseURL: 'http://localhost:5000'\r\n        });\r\n\r\n        axiosInstance.interceptors.request.use(request => {\r\n          console.log('Request:', request);\r\n          return request;\r\n        });\r\n\r\n        axiosInstance.interceptors.response.use(\r\n          response => {\r\n            console.log('Response:', response);\r\n            return response;\r\n          },\r\n          error => {\r\n            console.log('Error Response:', error.response);\r\n            return Promise.reject(error);\r\n          }\r\n        );\r\n\r\n        const response = await axiosInstance.get('/budget', {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n\r\n        console.log('Budget data:', response.data); // Debug response\r\n        setBudgetData(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Detailed error:', error.response || error);\r\n        setError(error.response?.data?.error || 'Failed to load budget information');\r\n        setLoading(false);\r\n        \r\n        if (error.response?.status === 401) {\r\n          console.log('Unauthorized, redirecting to login');\r\n          navigate('/login');\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchBudget();\r\n  }, [navigate]);\r\n\r\n  // Rest of your component remains the same\r\n  if (loading) {\r\n    return <div className=\"flex justify-center items-center h-screen\">Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"flex justify-center items-center h-screen text-red-500\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Finance Dashboard</h1>\r\n          <div className=\"mb-4\">\r\n            <p className=\"text-sm text-gray-500\">User is authenticated</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-2\">\r\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n            <div className=\"px-4 py-5 sm:p-6\">\r\n              <dt className=\"text-sm font-medium text-gray-500\">Initial Budget</dt>\r\n              <dd className=\"mt-1 text-3xl font-semibold text-gray-900\">\r\n                ${budgetData.initial_budget?.toFixed(2) || '0.00'}\r\n              </dd>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n            <div className=\"px-4 py-5 sm:p-6\">\r\n              <dt className=\"text-sm font-medium text-gray-500\">Current Budget</dt>\r\n              <dd className=\"mt-1 text-3xl font-semibold text-gray-900\">\r\n                ${budgetData.current_budget?.toFixed(2) || '0.00'}\r\n              </dd>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}